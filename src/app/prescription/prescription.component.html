<md-card id="prescription-card">
  <div class="row">
    <div class="col-lg-3 col-md-3 col-xl-3 app-autocomplete">
      <app-autocomplete 
        [endpoint]="pEndpoint" name="m_product_id" 
        [label]="pPlaceholder" 
        [primarykey]="pKey"
        [(ngModel)]="pText" 
        (emitProduct)="pSelected($event)" ngDefaultControl>
      </app-autocomplete>
    </div>
    <div class="col-lg-3 col-md-3 col-xl-3 app-autocomplete">
      <app-autocomplete 
        [endpoint]="dEndpoint" name="dosage" 
        [label]="dPlaceholder" 
        [primarykey]="dKey"
        [(ngModel)]="dText" 
        (emitProduct)="dSelected($event)" ngDefaultControl>
      </app-autocomplete>
    </div>
    <md-input-container>
      <input mdInput name="notes" type="number" [(ngModel)]="days" placeholder="# Days">
    </md-input-container>
    <input name="p_visit_id" type="hidden" value="p_visit_id">
    <button class="btn btn-default" (click)="persist()">Add</button>
  </div>
  <table class="table table-bordered table-striped">
    <tr *ngFor="let item of displayObjects">
      <td>{{item.product}}</td><td>{{item.dosage}}</td><td>{{item.quantity}}</td>
    </tr>
  </table>
  <button *ngIf="displayObjects.length > 0" class="btn btn-default" (click)="save()">
    Send to Pharmacy
  </button>
</md-card>